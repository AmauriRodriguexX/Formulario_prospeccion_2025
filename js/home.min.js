var endPointSendData = "https://MQLDVVAS4552.compartamos.mx:8600/prospeccion-web/web/v1/solicitud/submit";
const MSG_ERROR_GRAL = "No se pudo mandar la información. Inténtelo más tarde";
function muestraAviso() {
    document.getElementById("divAvisoPri").style.display = "flex"
}
function cerrarAviso() {
    document.getElementById("divAvisoPri").style.display = "none"
}
function spinnerOn(e) {
    $.blockUI({
        css: {
            border: "none",
            padding: "15px",
            backgroundColor: "#000",
            "-webkit-border-radius": "10px",
            "-moz-border-radius": "10px",
            opacity: .7,
            color: "#fff"
        },
        fadeIn: 0,
        message: '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>' + e,
        baseZ: 99995,
        overlayCSS: {
            backgroundColor: "#000",
            opacity: .7,
            cursor: "wait"
        }
    })
}
function spinnerOff() {
    0 != $(".blockUI").length && $.unblockUI()
}
function utms() {
    for (var e, t = [], o = window.location.href.slice(window.location.href.indexOf("?") + 1).split("&"), n = 0; n < o.length; n++)
        ("utm_source" == (e = o[n].split("="))[0] || "utm_medium" == e[0] || "utm_content" == e[0] || "utm_campaign" == e[0]) && (t.push(e[0]),
        t[e[0]] = e[1]);
    return t
}
function clearForm() {
    $("input").val(""),
    $("select").val(0),
    $("input[type=checkbox]").prop("checked", !1),
    $("input[type=radio]").prop("checked", !1),
    formDisable()
}
$(document).ready((function() {
    let e = !1;
    function t(t) {
        e = "1" !== t,
        $("#btnBack").toggle(e),
        $("#id_question_prev").val(t)
    }
    $("#btnBack").on("click", (function() {
        !function(e) {
            const o = {
                1: null,
                "2_1": "1",
                "2_2": "1",
                "3_1": "2_2",
                "3_2": $("#id_question_prev").val(),
                "4_1": "2_1",
                "4_2": "2_1",
                "4_3": "4_2"
            }[e];
            if (!o)
                return;
            $(".question__content").hide(),
            $(`#q${o}`).show(),
            $("input[name=id_question]").val(o);
            const n = function(e) {
                switch (e) {
                case "1":
                    $(".desktop-footer").hide();
                    return "" != $("input[name=answer_question_1]").val();
                case "2_1":
                    $(".desktop-footer").hide();
                    return "" != $("input[name=answer_question_2_1]").val();
                case "2_2":
                    $(".desktop-footer").hide();
                    return "" != $("input[name=answer_question_2_2]").val();
                case "3_1":
                    return "" != $("input[name=answer_question_3_1]").val();
                case "3_2":
                    return !(errorNombre || errorApP || errorFecha || errorTelefono || errorCP);
                case "4_1":
                    $(".desktop-footer").show();
                    setTimeout(() => {
                        $("#btnContinue").hide();
                      }, "10");
                    
                    return false;
                case "4_2":
                    $(".desktop-footer").show();
                    setTimeout(() => {
                        $("#btnContinue").hide();
                      }, "10");
                    return false;
                default:
                    return !1
                }
            }(o);
            $("#btnContinue").toggleClass("active", n).show(),
            function(e) {
                const t = {
                    1: {
                        percent: "0%",
                        class: "p0"
                    },
                    "2_1": {
                        percent: "30%",
                        class: "p30"
                    },
                    "2_2": {
                        percent: "30%",
                        class: "p30"
                    },
                    "3_1": {
                        percent: "60%",
                        class: "p60"
                    },
                    "3_2": {
                        percent: "90%",
                        class: "p90"
                    },
                    "4_1": {
                        percent: "60%",
                        class: "p60"
                    },
                    "4_2": {
                        percent: "60%",
                        class: "p60"
                    }
                }[e] || {
                    percent: "0%",
                    class: "p0"
                };
                $(".progress__label span").html(t.percent),
                $(".progress__line").removeClass().addClass(`progress__line ${t.class}`)
            }(o),
            t(o)
        }($("input[name=id_question]").val())
    }
    )),
    $('input[type="radio"]').prop("checked", !1),
    $("input[name=id_question]").val("1"),
    $("#msError").hide(),
    $(".desktop-footer").hide(),
    $("#avisoPrivacidad").on("change", (function() {
        $(this).is(":checked") ? $(this).css("accent-color", "#CE0058") : $(this).css("accent-color", "initial")
    }
    )),
    localStorage.setItem("CompartamosGenero", ""),
    localStorage.setItem("CompartamosNombre", ""),
    localStorage.setItem("CompartamosAP", ""),
    localStorage.setItem("CompartamosAM", ""),
    localStorage.setItem("CompartamosFecha", ""),
    localStorage.setItem("CompartamosTipoTelefono", ""),
    localStorage.setItem("CompartamosCorreo", ""),
    localStorage.setItem("CompartamosHorario", ""),
    localStorage.setItem("CompartamosCPGD", ""),
    localStorage.setItem("CompartamosHojaFormulario", 1),
    localStorage.setItem("tipoCredito", "N/A"),
    localStorage.setItem("productoAdicional", "N/A"),
    localStorage.setItem("negocio", "N/A"),
    localStorage.setItem("antiguedad", "N/A");
    let o = /^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s+[a-zA-ZÀ-ÿ\u00f1\u00d1]+)*$/;
    var n = !0
      , a = !0
      , r = !1
      , i = !0
      , s = !0
      , l = !0
      , c = !0
      , d = !1
      , u = !0
      , p = !0
      , m = !1
      , _ = "N/A"
      , g = "N/A"
      , v = "N/A"
      , h = "N/A"
      , f = "N/A";
    function C() {
        let e = $("input[name=id_question]").val()
          , o = $("input[name=answer_question_4_1]").val();
        if ($(".desktop-footer").hide(),
        "" == o)
            return $("#msgError").html("Seleccione una respuesta.").show(),
            !1;
        $(".question__content").hide(),
        h = o,
        localStorage.setItem("productoAdicional", h),
        window.dataLayer = window.dataLayer || [],
        window.dataLayer.push({
            event: "form_field_steps",
            CDCategory: $("input[name=answer_question_2_1]").val(),
            CDFunnel: "cliente",
            CDSource: ssSource,
            pantalla: "pantalla_1-60%",
            field_name: "03. Producto seleccionado",
            field_value: h
        }),
        $("#q3_2").show(),
        t(e),
        $("input[name=id_question]").val("3_2"),
        $("#q3_2 .progress__label span").html("90%"),
        $("#q3_2 .progress__line").addClass("p80"),
        $("#q3_2 .tipoCredito").hide(),
        $(".question__content").filter((function() {
            return "block" === $(this).css("display")
        }
        )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
        $("#btnContinue").show()
    }
    function b() {
        let e = $(this)
          , t = e.attr("id")
          , _ = e.val()
          , v = document.getElementById("textError" + t);
        switch (t) {
        case "txbNombre":
            C = _,
            o.test(C) ? (v.style.display = "none",
            $("#txbNombre").removeClass("inputError"),
            n = !1,
            _,
            localStorage.setItem("CompartamosNombre", _)) : (v.style.display = "block",
            $("#txbNombre").addClass("inputError"),
            n = !0);
            break;
        case "txbApPaterno":
            b = _,
            o.test(b) ? (v.style.display = "none",
            $("#txbApPaterno").removeClass("inputError"),
            a = !1,
            _,
            localStorage.setItem("CompartamosAP", _)) : (v.style.display = "block",
            $("#txbApPaterno").addClass("inputError"),
            a = !0);
            break;
        case "txbApMaterno":
            _.length > 0 ? (S = _,
            o.test(S) ? (v.style.display = "none",
            $("#txbApMaterno").removeClass("inputError"),
            r = !1,
            _,
            localStorage.setItem("CompartamosAM", _)) : (v.style.display = "block",
            $("#txbApMaterno").addClass("inputError"),
            r = !0)) : (v.style.display = "none",
            $("#txbApMaterno").removeClass("inputError"),
            r = !1);
            break;
        case "diaSelect":
        case "mesSelect":
        case "anioSelect":
            let t = $("#diaSelect").val()
              , m = $("#mesSelect").val()
              , g = $("#anioSelect").val()
              , w = document.getElementById("textErrorFecha");
            !function(e, t, o) {
                if (!document.getElementById("diaSelect"))
                    return !0;
                if ("0" === e || "0" === t || "0" === o)
                    return !1;
                let n = new Date(o,t - 1,e);
                return n.getDate() == e && n.getMonth() + 1 == t && n.getFullYear() == o
            }(t, m, g) ? (w.style.display = "block",
            $("#diaSelect").addClass("inputError"),
            $("#mesSelect").addClass("inputError"),
            $("#anioSelect").addClass("inputError"),
            i = !0) : (w.style.display = "none",
            $("#diaSelect").removeClass("inputError"),
            $("#mesSelect").removeClass("inputError"),
            $("#anioSelect").removeClass("inputError"),
            i = !1,
            _);
            break;
        case "rbFemenino":
        case "rbMasculino":
            var h, f = $("input[name='rbSexo']:checked").val();
            f ? ($("#textErrorGenero").hide(),
            p = !1,
            _,
            localStorage.setItem("CompartamosGenero", f)) : ($("#textErrorGenero").show(),
            p = !0);
            break;
        case "txbNumeroTel":
        case "telefonoSelec":
            var C, b, S, q, y = $("#telefonoSelect").val(), E = $("#txbNumeroTel").val();
            let I = "0" === (q = (q = E).replace(/[-\s+]/g, "").trim())[0] ? "errorPrimerDigito" : /^[0-9]{10}$/.test(q) ? q : "numeroInvalido";
            "errorPrimerDigito" === I ? ($("#textErrorTelefono1").css("display", "block"),
            $("#txbNumeroTel").addClass("inputError"),
            s = !0) : "numeroInvalido" === I ? ($("#textErrorTelefono").css("display", "block"),
            $("#txbNumeroTel").addClass("inputError"),
            s = !0) : ($("#textErrorTelefono").css("display", "none"),
            $("#textErrorTelefono1").css("display", "none"),
            $("#txbNumeroTel").removeClass("inputError"),
            s = !1,
            validarTelefono = I,
            localStorage.setItem("CompartamosTipoTelefono", y),
            localStorage.setItem("CompartamosTelefono", E));
            break;
        case "horaSelect":
            let k = _;
            "0" === k || null === k ? (v.style.display = "block",
            $("#horaSelect").addClass("inputError"),
            l = !0) : (v.style.display = "none",
            $("#horaSelect").removeClass("inputError"),
            l = !1,
            _,
            localStorage.setItem("CompartamosHorario", k));
            break;
        case "txbCP":
            /^\d{5}$/.test(_) ? (v.style.display = "none",
            $("#txbCP").removeClass("inputError"),
            c = !1,
            _) : (v.style.display = "block",
            $("#txbCP").addClass("inputError"),
            erroreraValidacion = !1,
            c = !0);
            break;
        case "txbCorreoElectronico":
            0 == (h = _).trim().length || /^(?:[^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*|"[^\n"]+")@(?:[^<>()[\].,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,63}$/i.test(h) ? (v.style.display = "none",
            d = !1,
            $("#txbCorreoElectronico").removeClass("inputError"),
            _,
            d = !1) : (v.style.display = "block",
            $("#txbCorreoElectronico").addClass("inputError"),
            d = !0,
            localStorage.setItem("CompartamosCorreo", _));
            break;
        case "avisoPrivacidad":
            e.prop("checked") ? ($("#textErrorAviso").hide(),
            u = !1,
            !1) : (u = !0,
            !0)
        }
        s = !1;
        var w = n || a || r || s || c;
        "N/A" == g ? w || (i || p || l || d) || u ? ($(".question__content").filter((function() {
            return "block" === $(this).css("display")
        }
        )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
        m = !1) : ($("#btnContinue").addClass("active"),
        m = !0) : w || u ? ($(".question__content").filter((function() {
            return "block" === $(this).css("display")
        }
        )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
        m = !1) : ($("#btnContinue").addClass("active"),
        m = !0)
    }
    $("#q1 .answer").on("click", (function() {
        let e = $(this).attr("data-id");
        $("#q1 .answer").removeClass("selected"),
        $(this).addClass("selected"),
        "Si" === e ? $("#rbCSi").prop("checked", !0) : "No" === e && $("#rbCNo").prop("checked", !0),
        _ = e,
        $("input[name=answer_question_1]").val(e),
        $("#btnContinue").addClass("active"),
        $("#msgError").hide()
    }
    )),
    $("#q2_1 .answer").on("click", (function() {
        let e = $(this).attr("data-id");
        $("#q2_1 .answer").removeClass("selected"),
        $(this).addClass("selected"),
        "Grupal" === e ? $("#rbGrupalSi").prop("checked", !0) : "Individual" === e && $("#rbIndividualNo").prop("checked", !0),
        g = e,
        $("input[name=answer_question_2_1]").val(e),
        $("#btnContinue").addClass("active"),
        $("#msgError").hide()
    }
    )),
    $("#q2_2 .answer").on("click", (function() {
        let e = $(this).attr("data-id");
        $("#q2_2 .answer").removeClass("selected"),
        $(this).addClass("selected"),
        "Si" === e ? ($("#rbSi").prop("checked", !0),
        v = "Si") : "No" === e && ($("#rbNo").prop("checked", !0),
        v = "No"),
        $("input[name=answer_question_2_2]").val(e),
        $("#btnContinue").addClass("active"),
        $("#msgError").hide()
    }
    )),
    $("#q3_1 .answer").on("click", (function() {
        let e = $(this).attr("data-id");
        $("#q3_1 .answer").removeClass("selected"),
        $(this).addClass("selected"),
        "Si" === e ? ($("#rbSiNegocio").prop("checked", !0),
        f = "Si") : "No" === e && ($("#rbNoNegocio").prop("checked", !0),
        f = "No"),
        $("input[name=answer_question_3_1]").val(e),
        $("#btnContinue").addClass("active"),
        $("#msgError").hide()
    }
    )),
    $("#q3_2 .answer").on("change", b),
    $("#q3_2 .answer").on("blur", b),
    $("#btnContinue").on("click", (function() {
        let e = $("input[name=id_question]").val();
        1 == e ? function() {
            let e = $("input[name=id_question]").val()
              , o = $("input[name=answer_question_1]").val();
            if ("" == o)
                return $("#msgError").html("Seleccione una respuesta.").show(),
                !1;
            $(".question__content").hide(),
            "Si" == o ? ($("#q2_1").show(),
            $("input[name=id_question]").val("2_1"),
            $("#q2_1 .progress__label span").html("30%"),
            $("#q2_1 .progress__line").addClass("p30")) : ($("#q2_2").show(),
            $("input[name=id_question]").val("2_2"),
            $("#q2_2 .progress__label span").html("30%"),
            $("#q2_2 .progress__line").addClass("p30")),
            $(".question__content").filter((function() {
                return "block" === $(this).css("display")
            }
            )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
            $("input[name=answer_question_1]").val(o),
            localStorage.setItem("cliente", o),
            pushDataLayer("form_field_steps", {
                pantalla: "pantalla_1-0%",
                field_name: "01. ¿Tienes un crédito Compartamos?",
                field_value: o
            }),
            t(e)
        }() : "2_1" == e ? function() {
            const idQuestion = $("input[name=id_question]").val();
            let e = $("input[name=answer_question_2_1]").val();
            if ("" == e)
                return $("#msgError").html("Seleccione una respuesta.").show(),
                !1;
            $(".question__content").hide(),
            "Grupal" == e ? ($("#q4_1").show(),
            $("input[name=id_question]").val("4_1"),
            $("#q4_1 .progress__label span").html("60%"),
            $("#q4_1 .progress__line").addClass("p60"),
            $(".desktop-footer").show()) : ($("#q4_2").show(),
            $("input[name=id_question]").val("4_2"),
            $("#q4_2 .progress__label span").html("60%"),
            $("#q4_2 .progress__line").addClass("p60"),
            $(".desktop-footer").show()),
            $(".question__content").filter((function() {
                return "block" === $(this).css("display")
            }
            )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
            $("#btnContinue").hide(),
            $("input[name=answer_question_2_1]").val(e),
            localStorage.setItem("tipoCredito", e),
            pushDataLayer("form_field_steps", {
                pantalla: "pantalla_1-30%",
                field_name: "02. ¿Qué tipo de crédito tienes?",
                field_value: e
            }, e),
            t(idQuestion)
        }() : "2_2" == e ? function() {
            const idQuestion = $("input[name=id_question]").val();
            let e = $("input[name=answer_question_2_2]").val();
            if ("" == e)
                return $("#msgError").html("Seleccione una respuesta.").show(),
                !1;
            $(".question__content").hide(),
            "Si" == e ? ($("#q3_1").show(),
            $("input[name=id_question]").val("3_1"),
            $("#q3_1 .progress__label span").html("60%"),
            $("#q3_1 .progress__line").addClass("p60")) : ($("#q3_2").show(),
            $("input[name=id_question]").val("3_2"),
            $("#q3_2 .progress__label span").html("90%"),
            $("#q3_2 .progress__line").addClass("p80")),
            $(".question__content").filter((function() {
                return "block" === $(this).css("display")
            }
            )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
            $("input[name=answer_question_2_2]").val(e),
            localStorage.setItem("negocio", v),
            pushDataLayer("form_field_steps", {
                pantalla: "pantalla_1-30%",
                field_name: "02. ¿Tienes un negocio?",
                field_value: v
            }),
            t(idQuestion)
        }() : "3_1" == e ? function() {
            const idQuestion = $("input[name=id_question]").val();
            let e = $("input[name=answer_question_3_1]").val();
            if ("" == e)
                return $("#msgError").html("Seleccione una respuesta.").show(),
                !1;
            $(".question__content").hide(),
            f = "Si" == e ? "Si" : "No",
            $("#q3_2").show(),
            $("input[name=id_question]").val("3_2"),
            $("#q3_2 .progress__label span").html("90%"),
            $("#q3_2 .progress__line").addClass("p80"),
            $(".question__content").filter((function() {
                return "block" === $(this).css("display")
            }
            )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
            $("input[name=answer_question_3_1]").val(e),
            localStorage.setItem("antiguedad", f),
            pushDataLayer("form_field_steps", {
                pantalla: "pantalla_1-60%",
                field_name: "03. ¿Tu negocio tiene más de 6 meses?",
                field_value: f
            }),
            t(idQuestion)
        }() : "3_2" == e ? ("",
        window.ssSource,
        !1 === m ? ($("#telefonoSelect").val(),
        $("#horaSelect").val(),
        $("#txbNombre").val(),
        $("#msgDatosIncorrectos").html("Verifica que todos los datos sean correctos.").show(),
        setTimeout((function() {
            $("#msgDatosIncorrectos").fadeOut()
        }
        ), 7e3)) : ($("#msgDatosIncorrectos").hide(),
        t($("input[name=id_question]").val()),
        console.log("Iniciando envío de datos..."),
        spinnerOn("Registrando información..."),
        document.getElementsByName("answer_question_2_1")[0].value,
        $.ajax({
            method: "POST",
            url: endPointSendData,
            data: function(e) {
                var t = new FormData;
                document.getElementById("avisoPrivacidad").checked ? t.append("aviso", "si") : t.append("aviso", "no");
                var o = document.getElementById("txbApMaterno").value;
                o.length < 3 && (o = "N/A");
                var n = document.getElementById("txbCorreoElectronico").value;
                n.length < 3 && (n = "N/A"),
                t.append("nombre", document.getElementById("txbNombre").value),
                t.append("aPaterno", document.getElementById("txbApPaterno").value),
                t.append("aMaterno", o),
                t.append("correo", n),
                t.append("telNum", document.getElementById("txbNumeroTel").value.replaceAll("-", "").replaceAll(" ", "").replaceAll("+", "").trim());
                var a = $("input[name='rbSexo']:checked").val();
                void 0 === a && (a = "N/A"),
                t.append("genero", a),
                t.append("negocio", v),
                t.append("antiguedad", f),
                t.append("tipoCredito", g),
                t.append("productoAdicional", h),
                localStorage.setItem("nombreProspecto", document.getElementById("txbNombre").value),
                localStorage.setItem("negocio", v),
                localStorage.setItem("antiguedad", f),
                localStorage.setItem("tipoCredito", g),
                localStorage.setItem("productoAdicional", h);
                let r = document.getElementById("horaSelect").value;
                t.append("horario", "0" === r ? "N/A" : r),
                document.getElementById("tipoCreditoGrupal").value,
                t.append("cliente", _);
                var i = document.getElementById("anioSelect").value + "/" + document.getElementById("mesSelect").value + "/" + document.getElementById("diaSelect").value;
                t.append("fechaN", i),
                t.append("codigoPostal", document.getElementById("txbCP").value);
                let s = utms();
                return s.length > 0 ? (t.append("source", "" == s.utm_source.trim() ? "N/A" : s.utm_source),
                t.append("medium", "" == s.utm_medium.trim() ? "N/A" : s.utm_medium),
                t.append("campaign", "" == s.utm_campaign.trim() ? "N/A" : s.utm_campaign),
                t.append("content", "" == s.utm_content.trim() ? "N/A" : s.utm_content)) : (t.append("source", "N/A"),
                t.append("medium", "N/A"),
                t.append("campaign", "N/A"),
                t.append("content", "N/A")),
                t.append("token", e),
                t
            }(""),
            contentType: !1,
            processData: !1,
            cache: !1,
            success: function(e) {
                console.log("Respuesta del servidor:", e),
                spinnerOff(),
                0 == e.codigo ? (localStorage.setItem("lead_id", e.solicitud.id),
                sessionStorage.setItem("Folio", e.solicitud.id),
                sessionStorage.setItem("Horario", e.solicitud.horario),
                clickSenderDatakayer(),
                console.log("Redireccionando..."),
                function() {
                    if (( () => {
                        let e = document.getElementById("diaSelect");
                        return e && null !== e.offsetParent
                    }
                    )()) {
                        let e = document.getElementById("diaSelect").value
                          , t = document.getElementById("mesSelect").value
                          , o = document.getElementById("anioSelect").value;
                        "0" !== e && "0" !== t && "0" !== o ? setTimeout(( () => window.location.href = "ty-no-cliente.html"), 600) : setTimeout(( () => window.location.href = "ty-cliente.html"), 600)
                    } else
                        setTimeout(( () => window.location.href = "ty-cliente.html"), 600)
                }()) : gestionaError(e)
            },
            error: function(e, t, o) {
                dataLayer.push({
                    event: "error_lead",
                    CDFunnel: "Si" == localStorage.getItem("cliente") ? "Cliente" : "No cliente",
                    CDCategory: localStorage.getItem("tipoCredito"),
                    CDLabel: localStorage.getItem("productoAdicional"),
                    CDAction: "Intento de registro",
                    submit_result: "Error",
                    detail: "Error de conexión:" + o
                }),
                console.error("Error de conexión:", o),
                spinnerOff(),
                alert("Error al conectar con el servidor. Intente nuevamente.")
            },
            complete: function() {
                grecaptcha.reset()
            }
        }))) : "3_3" == e ? validateQ3_3() : "4_1" == e ? C() : "4_2" == e ? function() {
            let e = $("input[name=answer_question_4_2]").val();
            if ($(".desktop-footer").hide(),
            "" == e)
                return $("#msgError").html("Seleccione una respuesta.").show(),
                !1;
            $(".question__content").hide(),
            h = e,
            $("#q3_2").show(),
            $("input[name=id_question]").val("3_2"),
            $("#q3_2 .progress__label span").html("90%"),
            $("#q3_2 .progress__line").addClass("p80"),
            $("#q3_2 .tipoCredito").hide(),
            $(".question__content").filter((function() {
                return "block" === $(this).css("display")
            }
            )).find("input").is(":checked") || $("#btnContinue").removeClass("active"),
            $("#btnContinue").show(),
            t(newQuestionId)
        }() : "4_3" == e && validateQ4_3()
    }
    )),
    $("#tipoCreditoGrupal").on("change", (function() {
        $(this).val(),
        C()
    }
    )),
    $("#tipoCreditoIndividual").on("change", (function() {
        $(this).val(),
        C()
    }
    ))
}
));
var clickAll = 0;
function gestionaError(e) {
    var t = "";
    if (e.codigo)
        if (-1 == e.codigo)
            msErrorsend(t = MSG_ERROR_GRAL);
        else if (-2 == e.codigo)
            msErrorsend(t = "No se pudo enviar la información. Favor de llenar todos los campos obligatorios.");
        else if (-4 == e.codigo) {
            t = "Formato de número telefónico incorrecto.";
            var o = getCampoTel(e.respuesta);
            $(o).addClass("req_field")
        } else if (-5 == e.codigo) {
            t = "El número telefónico que ingresaste no es válido.";
            o = getCampoTel(e.respuesta);
            $(o).addClass("req_field")
        } else
            t = MSG_ERROR_GRAL;
    else
        t = MSG_ERROR_GRAL;
    msErrorsend(t),
    dataLayer.push({
        event: "error_lead",
        CDFunnel: "Si" == localStorage.getItem("cliente") ? "Cliente" : "No cliente",
        CDCategory: localStorage.getItem("tipoCredito"),
        CDLabel: localStorage.getItem("productoAdicional"),
        CDAction: "Intento de registro",
        submit_result: "Error",
        detail: t
    })
}
function msErrorsend(e) {
    $("#msError").text(e),
    $("#msError").show();
    var t = $("#msError").offset().top;
    $("html, body").animate({
        scrollTop: t
    }, 1e3)
}
function agregarTipoCreditoGrupal(e) {
    $("#tipoCreditoGrupal").val(e),
    $("#tipoCreditoGrupal").trigger("change")
}
function agregarTipoIndividual(e) {
    $("#tipoCreditoIndividual").val(e),
    $("#tipoCreditoIndividual").trigger("change")
}
function agregarTipoCreditoGrupal(e) {
    console.log("Tipo de crédito seleccionado:", e);
    let t = e.toLowerCase();
    "cuenta a mi favor" !== t ? "inversiones" !== t ? ($("#tipoCreditoGrupal").val(e),
    $("#tipoCreditoGrupal").trigger("change")) : window.location.href = "ty-inversiones-compartamos.html" : window.location.href = "ty-cuenta-a-mi-favor.html"
}
