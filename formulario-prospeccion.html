<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Metadatos básicos -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fff">
    <meta name="msapplication-navbutton-color" content="#fff">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- SEO -->
    <title>Solicita un crédito Compartamos Banco</title>
    <meta name="title" content="Solicita un crédito Compartamos Banco">
    <meta name="description"
        content="¿Necesitas dinero extra? Solicita un crédito grupal o individual de manera fácil. Completa el formulario digital y un asesor te contactará a la brevedad.">
    <meta name="og:title"
        content="Solicita tu crédito adicional o empieza con Compartamos. Nuestro proceso es fácil y rápido, diseñado para ayudarte a alcanzar tus sueños. Mejora tu salud financiera con nosotros.">

    <link rel="icon"
        href="https://www.compartamos.com.mx/contenthandler/!ut/p/digest!JnecS20XWpI9OaaqZPK8bQ/dav/fs-type1/themes/CompartamosBanco/img/site/favicon.ico"
        type="image/x-icon">


    <!-- Estilos externos y fuentes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@1" rel="stylesheet">

    <!-- Estilos CSS locales -->
    <link rel="stylesheet" href="css/theme.min.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/home-cb.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/prospeccion.css">
    <link rel="stylesheet" href="css/desktop.css">
    <link rel="stylesheet" href="css/mobile.css">

    <!-- Google Tag Manager -->

    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PXVLSK6');</script>
    <!-- End Google Tag Manager -->

</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXVLSK6" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <section class="main main desktop-center">
        <div class="main__content">
            <form id="frmTest" class="form" autocomplete="off">
                <div class="header__info2 wrapper">
                    <a id="LogoCompartamos" href="https://www.compartamos.com.mx/compartamos">
                        <img class="header__logo" src="img/compartamos_banco_logo.svg" alt="Logo Compartamos Banco">
                        <!--eliminacion de estilos style="margin: 15% 32%;"-->
                    </a>
                </div>
                <input type="hidden" name="id_question" value="1">
                <input type="hidden" name="answer_question_1" value=""> <!--Tienes un credito-->
                <input type="hidden" name="answer_question_2_1" value=""> <!--tipoCredito-->
                <input type="hidden" name="answer_question_2_2" value=""> <!--negocio-->
                <input type="hidden" name="answer_question_3_1" value=""> <!--antiguedad-->
                <input id="tipoCreditoGrupal" type="hidden" name="answer_question_4_1" value=""> <!--antiguedad-->
                <input id="tipoCreditoIndividual" type="hidden" name="answer_question_4_2" value="">

                <h1 class="home__title">Tramita tu crédito</h1>
                <!-- Pregunta 1: Ya tienes un crédito Compartamos -->
                <div class="question__content" id="q1">
                    <div class="d-flex flex-column">
                        <p class="question">Necesitamos saber...</p>

                        <div class="progress">
                            <div class="progress__bar">
                                <div class="progress__line"></div>
                            </div>
                            <div class="progress__label"><span>0%</span> avance de la solicitud</div>
                        </div>

                        <div class="home__line"></div>
                        <p class="question pt-3">¿Ya tienes un crédito Compartamos?</p>
                        <div class="d-flex flex-column pt-3">
                            <div class="radioButonsForm answer" data-id="Si" id="DrbCSi" name="DrbCSi">
                                <input type="radio" id="rbCSi" value="Si" name="rbCliente">
                                <label style="color: grey;" for="Si">Sí, ya tengo uno</label>
                            </div>
                            <div class="radioButonsForm answer" data-id="No" id="DrbCNo" name="DrbCNo">
                                <input type="radio" id="rbCNo" value="No" name="rbCliente">
                                <label style="color: grey;" for="rbCNo">No, pero quiero uno</label>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Pregunta 2_1: ¿Que tipo de crédito tienes? -->
                <div class="question__content" id="q2_1">
                    <p class="question">Sobre tu crédito</p>

                    <div class="progress">
                        <div class="progress__bar">
                            <div class="progress__line"></div>
                        </div>
                        <div class="progress__label"><span>30%</span> avance de la solicitud</div>
                    </div>

                    <div class="home__line"></div>
                    <p class="question pt-3">¿Qué tipo de crédito tienes?</p>
                    <div class="d-flex flex-column pt-3">
                        <div class="radioButonsForm answer" data-id="Grupal" id="DrbCGrupal" name="DrbCGrupal">
                            <input type="radio" id="rbGrupalSi" value="Grupal" name="rbCredito">
                            <label style="color: grey;" for="rbGrupalSi">Crédito grupal</label>
                        </div>
                        <div class="radioButonsForm answer" data-id="Individual" id="DrbIndividual"
                            name="DrbCIndividual">
                            <input type="radio" id="rbIndividualNo" value="Individual" name="rbCredito">
                            <label style="color: grey;" for="rbIndividualNo">Crédito individual</label>
                        </div>
                    </div>
                </div>
                <!-- Pregunta 2_2: ¿Tienes un negocio? -->
                <div class="question__content" id="q2_2">
                    <p class="question">Situación actual</p>

                    <div class="progress">
                        <div class="progress__bar">
                            <div class="progress__line"></div>
                        </div>
                        <div class="progress__label"><span>30%</span> avance de la solicitud</div>
                    </div>

                    <div class="home__line"></div>
                    <p class="question pt-3">¿Tienes un negocio?</p>
                    <div class="d-flex flex-column pt-3">
                        <div class="radioButonsForm answer" data-id="Si" id="DrbSi" name="DrbSi">
                            <input type="radio" id="rbSi" value="Si" name="rbNegocio">
                            <label style="color: grey;" for="Si">Sí, tengo</label>
                        </div>
                        <div class="radioButonsForm answer" data-id="No" id="DrbNo" name="DrbCNo">
                            <input type="radio" id="rbNo" value="No" name="rbNegocio">
                            <label style="color: grey;" for="No">No, tengo</label>
                        </div>
                    </div>
                </div>


                <!--Pregunta 3_1: ¿Tu negocio tiene más de 6 meses?-->
                <div class="question__content" id="q3_1">
                    <p class="question">Tiempo de tu negocio</p>

                    <div class="progress">
                        <div class="progress__bar">
                            <div class="progress__line"></div>
                        </div>
                        <div class="progress__label"><span>60%</span> avance de la solicitud</div>
                    </div>

                    <div class="home__line"></div>
                    <p class="question pt-3">¿Tu negocio tiene más de 6 meses?</p>
                    <div class="d-flex flex-column pt-3">
                        <div class="radioButonsForm answer" data-id="Si" id="DrbSi" name="DrbSi">
                            <input type="radio" id="rbSiNegocio" value="Si" name="rbNegocio">
                            <label style="color: grey;" for="Si">Sí, tiene más de 6 meses</label>
                        </div>
                        <div class="radioButonsForm answer" data-id="No" id="DrbNo" name="DrbCNo">
                            <input type="radio" id="rbNoNegocio" value="No" name="rbNegocio">
                            <label style="color: grey;" for="No">No, tiene menos de 6 meses</label>
                        </div>
                    </div>
                </div>
                <!--Situación actial No-->
                <div class="question__content " id="q3_2">
                    <div class="d-flex flex-column">
                        <p class="question c-center">Información cliente</p>
                        <div class="progress">
                            <div class="progress__bar">
                                <div class="progress__line"></div>
                            </div>
                            <div class="progress__label"><span>90%</span> avance de la solicitud</div>
                        </div>
                        <div class="home__line"></div>
                        <span class="question pt-3 p-title text-mobiel-form ">Déjanos tus datos para que nuestro agente
                            se contacte contigo y te haga saber la oferta que te tenemos.</span>
                        <label class="margin-bottom-24">
                            <span class="material-symbols-outlined"
                                style="vertical-align: middle; font-variation-settings: 'FILL' 1; color: #5E6A71;">
                                info
                            </span>
                            Campos con (*) son obligatorios
                        </label>

                        <div id="msError" style="color: red; text-align: center; display: none;">No se pudo procesar tu
                            informacion favor de intentar mas tarde</div>
                        <div class="d-flex flex-column pt-3">
                            <div class="campoFormulario">
                                <p class="label-color">Nombre(s) <b class="camposObligatorios">*</b> </p>
                                <input class="answer" type="text" id="txbNombre" name="nombre" placeholder="Nombre(s)">
                                <p class="mensajeCampoError" id="textErrortxbNombre">Este campo es obligatorio</p>
                            </div>
                            <div class="campoFormulario">
                                <p class="label-color">Primer apellido <b class="camposObligatorios">*</b> </p>
                                <input class="answer" type="text" id="txbApPaterno" name="aPaterno"
                                    placeholder="Primer apellido">
                                <p class="mensajeCampoError" id="textErrortxbApPaterno">Este campo es obligatorio</p>
                            </div>
                            <div class="campoFormulario">
                                <p class="label-color">Segundo apellido (opcional)</p>
                                <input class="answer" type="text" id="txbApMaterno" name="aMaterno"
                                    placeholder="Segundo apellido ">
                                <p class="mensajeCampoError" id="textErrortxbApMaterno">Este campo es obligatorio</p>
                            </div>
                            <div class="campoFormulario tipoCredito">
                                <p class="label-color">Fecha de nacimiento <b class="camposObligatorios">*</b></p>
                                <div id="dt-Date" class="desktop-date-m-d">

                                    <!-- Día -->
                                    <div class="select-container">
                                        <select id="diaSelect" class="desktop-date selectedForm selectFecha answer">
                                            <option disabled selected value="0" class="label-color">Día</option>
                                            <option value="01">01</option>
                                            <option value="02">02</option>
                                            <option value="03">03</option>
                                            <option value="04">04</option>
                                            <option value="05">05</option>
                                            <option value="06">06</option>
                                            <option value="07">07</option>
                                            <option value="08">08</option>
                                            <option value="09">09</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>
                                            <option value="21">21</option>
                                            <option value="22">22</option>
                                            <option value="23">23</option>
                                            <option value="24">24</option>
                                            <option value="25">25</option>
                                            <option value="26">26</option>
                                            <option value="27">27</option>
                                            <option value="28">28</option>
                                            <option value="29">29</option>
                                            <option value="30">30</option>
                                            <option value="31">31</option>
                                        </select>
                                        <i class="fa fa-chevron-down"></i>
                                    </div>

                                    <!-- Mes -->
                                    <div class="select-container">
                                        <select id="mesSelect" class="desktop-date selectedForm selectFecha answer">
                                            <option disabled selected value="0" class="label-color">Mes</option>
                                            <option value="01">Enero</option>
                                            <option value="02">Febrero</option>
                                            <option value="03">Marzo</option>
                                            <option value="04">Abril</option>
                                            <option value="05">Mayo</option>
                                            <option value="06">Junio</option>
                                            <option value="07">Julio</option>
                                            <option value="08">Agosto</option>
                                            <option value="09">Septiembre</option>
                                            <option value="10">Octubre</option>
                                            <option value="11">Noviembre</option>
                                            <option value="12">Diciembre</option>
                                        </select>
                                        <i class="fa fa-chevron-down"></i>
                                    </div>

                                    <!-- Año -->
                                    <div class="select-container">
                                        <select id="anioSelect" class="desktop-date selectedForm selectFecha answer">
                                            <option disabled selected value="0" class="label-color">Año</option>
                                            <option value="2006">2006</option>
                                            <option value="2005">2005</option>
                                            <option value="2004">2004</option>
                                            <option value="2003">2003</option>
                                            <option value="2002">2002</option>
                                            <option value="2001">2001</option>
                                            <option value="2000">2000</option>
                                            <option value="1999">1999</option>
                                            <option value="1998">1998</option>
                                            <option value="1997">1997</option>
                                            <option value="1996">1996</option>
                                            <option value="1995">1995</option>
                                            <option value="1994">1994</option>
                                            <option value="1993">1993</option>
                                            <option value="1992">1992</option>
                                            <option value="1991">1991</option>
                                            <option value="1990">1990</option>
                                            <option value="1989">1989</option>
                                        </select>
                                        <i class="fa fa-chevron-down"></i>
                                    </div>

                                </div>
                                <p class="mensajeCampoError " id="textErrorFecha">Selecciona tu fecha de nacimiento,
                                    mayor de 18 años</p>
                            </div>
                            <div class="campoFormulario tipoCredito">
                                <p class="label-color">Indica tu género <b class="camposObligatorios">*</b> </p>
                                <div class="radio-button">
                                    <div class="radio-display">
                                        <input class="genero answer" type="radio" id="rbFemenino" value="Femenino"
                                            name="rbSexo">
                                        <label class="genero" for="rbFemenino">Femenino</label>


                                        <input class="genero answer" type="radio" id="rbMasculino" value="Masculino"
                                            name="rbSexo">
                                        <label class="genero" for="rbMasculino">Masculino</label>
                                    </div>
                                </div>
                                <input type="hidden" name="genero" id="generoHidden">
                                <p class="mensajeCampoError" id="textErrorGenero">Este campo es obligatorio</p>
                            </div>
                            <div class="campoFormulario">
                                <p id="topTel" class="hide-desk label-color">Teléfono <b
                                        class="camposObligatorios">*</b> </p>
                                <div style="position: relative; display: inline-block; width: 35%;">
                                    <select id="telefonoSelect" name="tipoTelefono"
                                        class="selectedForm disableForm answer">
                                        <option value="Fijo">Fijo</option>
                                        <option value="Celular" selected="selected">Celular</option>
                                    </select>
                                    <i class="fa fa-chevron-down"
                                        style="position: absolute; right: 10px; top: 50%; transform: translateY(-80%); pointer-events: none; color: #7f7f7f;"></i>
                                </div>
                                <div style="float: right; width: 63%;">
                                    <input type="tel" maxlength="10" pattern="\d{10}" id="txbNumeroTel"
                                        class="answer disableForm" name="telefono answer" placeholder="10 dígitos">
                                    <p class="mensajeCampoInstruccion" id="textFijoTelefono"></p>
                                    <p class="mensajeCampoError" id="textErrorTelefono">Número debe ser a 10 dígitos</p>
                                    <p class="mensajeCampoError" id="textErrorTelefono1">El primer número no puede ser 0
                                    </p>
                                </div>
                            </div>
                            <div class="campoFormulario pricipalDisable tipoCredito">
                                <p class="label-color">¿A qué hora te hablamos? <b class="camposObligatorios">*</b> </p>
                                <div class="select-container">
                                    <select id="horaSelect" name="horarioLlamada"
                                        class="selectedForm disableForm answer">
                                        <option disabled selected value="0">Seleccionar horario</option>
                                        <option value="8:00 am a 3:00 pm">Matutino (8:00 am a 3:00 pm)</option>
                                        <option value="3:00 pm a 8:00 pm">Vespertino (3:00 pm a 8:00 pm)</option>
                                        <option value="En cualquier horario">En cualquier horario</option>
                                    </select>
                                    <i class="fa fa-chevron-down"></i>
                                </div>
                                <p class="mensajeCampoError" id="textErrorhoraSelect">Selecciona un horario</p>
                            </div>


                            <div class="campoFormulario">
                                <p class="hide-desk label-color">Código postal <b class="camposObligatorios">*</b> </p>
                                <input class="answer" maxlength="5" type="tel" id="txbCP" name="codigoPostal"
                                    placeholder="Código postal">
                                <p class="mensajeCampoError" id="textErrortxbCP">Número debe ser 5 dígitos</p>
                            </div>

                            <div class="campoFormulario pricipalDisable tipoCredito">
                                <p class="label-color">Correo electrónico (opcional)</p>
                                <input type="email" id="txbCorreoElectronico" class="disableForm answer"
                                    name="correoElectronico" placeholder="Correo electrónico">
                                <p class="mensajeCampoError" id="textErrortxbCorreoElectronico">Correo inválido</p>
                            </div>

                            <div class="contenidoGeneralForm pricipalDisable">
                                <div class="campoFormulario">
                                    <div style="display: flex; height: 24px; padding-top: 40px; padding-bottom: 40px;"
                                        class="c-center aviso-de-privacidad">
                                        <input class="answer" type="checkbox" style="width: 24px;height: 24px;"
                                            id="avisoPrivacidad" name="avisoPrivacidad">
                                        <div style="margin: 3px 2px 8px 4px;  ">
                                            <label for="aviso">He leído y acepto el <a
                                                    style="text-decoration: underline;color: #CE0058;"
                                                    onclick="muestraAviso()" class="cursor-finger">Aviso de Privacidad
                                                </a></label>
                                        </div>
                                        <span style="margin: 2px;" onclick="muestraAviso()" id="arrowAviso"
                                            class="imgAvisoUp"></span>
                                    </div>
                                    <!-- mensaje desahabilitado temporalmente 
                                    <p class="mensajeCampoError" id="textErrorAviso">Para poder continuar, primero debes aceptar nuestro Aviso de privacidad.</p>
                                    -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Crédito grupal-->
                <div class="question__content desktop-only" id="q4_1">
                    <div class="d-flex flex-column">
                        <p class="question no-text">Tus ofertas</p>
                        <p class="p-oftert hide ">Tus ofertas</p>
                    </div>

                    <div class="progress">
                        <div class="progress__bar">
                            <div class="progress__line"></div>
                        </div>
                        <div class="progress__label"><span>60%</span> avance de la solicitud</div>
                    </div>
                    <section id="previous-winners" data-carousel="1">
                        <p class="title-credito-grupales">Tener un crédito te recompensa con nuevas posibilidades:</p>
                        <span id="subtitle" class="font-inter margin-bottom-60">Créditos adicionales</span>

                        <div class="carousel">
                            <div class="card" onclick="agregarTipoCreditoGrupal('Crédito crece y mejora')">
                                <div class="thumbnail"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Crédito crece y mejora</span>
                                    <span class="card_footer-description">
                                        Préstamo personal preautorizado para clientes. Desde $5,000 hasta $8,000.
                                    </span>
                                </div>
                            </div>
                            <div class="card" onclick="agregarTipoCreditoGrupal('Crédito individual')">
                                <div class="thumbnail"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name h2-creditos">Crédito individual</span>
                                    <span class="card_footer-description">
                                        ¡Dile que sí a tu negocio! Ahora puedes solicitar un monto de hasta $500,000.
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="carousel-controls">
                            <div class="carousel-dots">
                                <a href="#" class="dot active" onclick="goToSlide(event, 1, 0)"></a>
                                <a href="#" class="dot" onclick="goToSlide(event, 1, 1)"></a>
                            </div>

                            <div class="carousel-buttons">
                                <a href="#" class="carousel-prev" onclick="moveSlide(event, 1, -1)">
                                    <span class="material-symbols-outlined">keyboard_arrow_left</span>
                                </a>
                                <a href="#" class="carousel-next" onclick="moveSlide(event, 1, 1)">
                                    <span class="material-symbols-outlined">chevron_right</span>
                                </a>
                            </div>
                        </div>
                    </section>

                    <section id="previous-winners" data-carousel="2">
                        <span id="subtitle" class="font-inter margin-bottom-60 margin-top_40">Cuida de tu dinero</span>

                        <div class="carousel">
                            <div class="card" onclick="agregarTipoCreditoGrupal('Cuenta a mi favor')">
                                <div class="thumbnail cuenta-a-mi-favor"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Cuenta a mi favor</span>
                                    <span class="card_footer-description">
                                        Obtener tu tarjeta es más fácil. Descarga Compartamos Móvil para iniciar a
                                        tramitarla.
                                    </span>
                                </div>
                            </div>
                            <div class="card" onclick="agregarTipoCreditoGrupal('Inversiones')">
                                <div class="thumbnail inversiones"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Inversiones</span>
                                    <span class="card_footer-description">
                                        Tu dinero crece desde $1,000. Invierte con nuestra app Compartamos Móvil.
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="carousel-controls">
                            <div class="carousel-dots">
                                <a href="#" class="dot active" onclick="goToSlide(event, 2, 0)"></a>
                                <a href="#" class="dot" onclick="goToSlide(event, 2, 1)"></a>
                            </div>

                            <div class="carousel-buttons">
                                <a href="#" class="carousel-prev" onclick="moveSlide(event, 2, -1)">
                                    <span class="material-symbols-outlined">keyboard_arrow_left</span>
                                </a>
                                <a href="#" class="carousel-next" onclick="moveSlide(event, 2, 1)">
                                    <span class="material-symbols-outlined">chevron_right</span>
                                </a>
                            </div>
                        </div>
                    </section>


                </div>


                <!--Crédito Individual-->
                <div class="question__content" id="q4_2">
                    <div class="d-flex flex-column">
                        <p class="question">Tus ofertas</p>
                        <p class="hide hide-desk-01">Tus ofertas</p>
                    </div>

                    <div class="progress">
                        <div class="progress__bar">
                            <div class="progress__line"></div>
                        </div>
                        <div class="progress__label"><span>60%</span> avance de la solicitud</div>
                    </div>

                    <!-- Primer Carrusel -->
                    <section id="previous-winners" data-carousel="1">
                        <p class="title-credito-grupales">Tener un crédito te recompensa con nuevas posibilidades:</p>
                        <span id="subtitle" class="font-inter">Créditos adicionales</span>

                        <div class="carousel">
                            <div class="card" onclick="agregarTipoCreditoGrupal('Crédito Crece y Mejora')">
                                <div class="thumbnail crece-mejora-individual"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Crédito crece y mejora</span>
                                    <span class="card_footer-description">La solución al instante para tu casa, el
                                        negocio y cualquier imprevisto.</span>
                                </div>
                            </div>
                            <div class="card" onclick="agregarTipoCreditoGrupal('Crédito Individual')">
                                <div class="thumbnail credito-emergencia-individual"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Crédito de emergencia</span>
                                    <span class="card_footer-description">Ayuda inmediata para clientes de Crédito,
                                        afectados por desastres naturales.</span>
                                </div>
                            </div>
                        </div>

                        <div class="carousel-controls">
                            <div class="carousel-dots">
                                <a href="#" class="dot active" onclick="goToSlide(event, 1, 0)"></a>
                                <a href="#" class="dot" onclick="goToSlide(event, 1, 1)"></a>
                            </div>

                            <div class="carousel-buttons">
                                <a href="#" class="carousel-prev" onclick="moveSlide(event, 1, -1)">
                                    <span class="material-symbols-outlined">keyboard_arrow_left</span>
                                </a>
                                <a href="#" class="carousel-next" onclick="moveSlide(event, 1, 1)">
                                    <span class="material-symbols-outlined">chevron_right</span>
                                </a>
                            </div>
                        </div>
                    </section>

                    <!-- Segundo Carrusel -->
                    <section id="previous-winners" data-carousel="2">
                        <br>
                        <h2 id="title" class="font-bree no-text hide-mobile">Cuida tu dinero</h2>
                        <span id="subtitle" class="font-inter margin-bottom-60">Cuida de tu dinero</span>

                        <div class="carousel">
                            <div class="card" onclick="agregarTipoCreditoGrupal('Cuenta a mi favor')">
                                <div class="thumbnail cuenta-a-mi-favor"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Cuenta a mi favor</span>
                                    <span class="card_footer-description">Obtener tu tarjeta es más fácil. Descarga
                                        Compartamos Móvil para iniciar a tramitarla.</span>
                                </div>
                            </div>
                            <div class="card" onclick="agregarTipoCreditoGrupal('Inversiones')">
                                <div class="thumbnail inversiones"></div>
                                <div class="card_footer">
                                    <span class="card_footer-name">Inversiones</span>
                                    <span class="card_footer-description">Tu dinero crece desde $1,000. Invierte con
                                        nuestra app Compartamos Móvil.</span>
                                </div>
                            </div>
                        </div>

                        <div class="carousel-controls">
                            <div class="carousel-dots">
                                <a href="#" class="dot active" onclick="goToSlide(event, 2, 0)"></a>
                                <a href="#" class="dot" onclick="goToSlide(event, 2, 1)"></a>
                            </div>

                            <div class="carousel-buttons">
                                <a href="#" class="carousel-prev" onclick="moveSlide(event, 2, -1)">
                                    <span class="material-symbols-outlined">keyboard_arrow_left</span>
                                </a>
                                <a href="#" class="carousel-next" onclick="moveSlide(event, 2, 1)">
                                    <span class="material-symbols-outlined">chevron_right</span>
                                </a>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="home__msg" id="msgError">Debe seleccionar una respuesta</div>
                <div class="home__msg" id="msgDatosIncorrectos"></div>
                <button type="button" class="frm__btn btnContinuarInicio" id="btnContinue">
                    Continuar <span class="material-symbols-outlined">arrow_forward</span>
                </button>

            </form>
        </div>
    </section>

    <div id="divAvisoPri" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="cerrarAviso()">&times;</span>
            <div class="d-flex">
                <p style="margin: 10px; padding-top: 6rem;">
                    Banco Compartamos, S.A., Institución de Banca Múltiple (en adelante “Banco Compartamos”), empresa
                    perteneciente a GENTERA con domicilio en Insurgentes Sur número 1458, piso 5, Colonia Actipan,
                    Alcaldía Benito Juárez, C.P. 03230, México, Ciudad de México, es el responsable de sus datos
                    personales categorizados como: Identificación y contacto; recabados por este medio y los utilizará
                    para las siguientes finalidades: i) Ofrecer nuestros productos y servicios y ii) Dar seguimiento a
                    los productos que solicitó con nosotros. Para más información acerca del tratamiento de sus datos
                    personales y forma en que podrá ejercer sus derechos ARCO, usted puede consultar el Aviso de
                    Privacidad Integral para Prospecto a Cliente en el sitio web <a
                        href="https://www.compartamos.com.mx/compartamos" target="_blank"
                        style="text-decoration: underline;">www.compartamos.com.mx</a> en la sección Avisos Privacidad.
                </p>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const titleElement = document.querySelector(".home__title"); // Selecciona el <h1>
            const sectionQ3_2 = document.getElementById("q3_2"); // Sección q3_2
            const paragraphQ3_2 = sectionQ3_2?.querySelector("p.question.c-center"); // <p> en q3_2
            const spanQ3_2 = sectionQ3_2?.querySelector("span.p-title.text-mobiel-form"); // <span> en q3_2

            // Radio buttons
            const radioNo = document.getElementById("rbCNo"); // "No, pero quiero uno"
            const radioSi = document.getElementById("rbCSi"); // "Sí, ya tengo uno"

            // Definimos las secciones y sus títulos correspondientes
            const sectionTitles = {
                "q2_1": "Ofertas para clientes",
                "q3_2": "Solicitud crédito adicional",
                "q4_1": "Crédito grupal",
                "q4_2": "Crédito individual"
            };

            function updateTitle() {
                let newTitle = "Tramita tu crédito"; // Título por defecto
                let newSpanText = "Déjanos tus datos para que nuestro agente se contacte contigo y te haga saber la oferta que te tenemos."; // Texto por defecto

                for (let sectionId in sectionTitles) {
                    const section = document.getElementById(sectionId);
                    if (section && section.offsetParent !== null) {
                        newTitle = sectionTitles[sectionId];
                        break; // Detiene la búsqueda al encontrar la primera sección visible
                    }
                }

                // Si estamos en q3_2 y el usuario seleccionó "No, pero quiero uno"
                if (sectionQ3_2 && sectionQ3_2.offsetParent !== null && radioNo?.checked) {
                    newTitle = "Tramita tu crédito";
                    if (paragraphQ3_2) {
                        paragraphQ3_2.textContent = "Información personal";
                    }
                } else if (sectionQ3_2 && sectionQ3_2.offsetParent !== null && radioSi?.checked) {
                    if (paragraphQ3_2) {
                        paragraphQ3_2.textContent = "Información cliente"; // Mantener el texto original
                    }
                }

                // Si el título es "Solicitud crédito adicional", actualizamos el span
                if (newTitle === "Solicitud crédito adicional" && spanQ3_2) {
                    newSpanText = "Déjanos tus datos. Le haremos saber a tu Promotor que estás interesado en este crédito para iniciar el trámite.";
                }

                titleElement.textContent = newTitle;
                if (spanQ3_2) {
                    spanQ3_2.textContent = newSpanText;
                }
            }

            // Observer para detectar cambios en el DOM
            const observer = new MutationObserver(updateTitle);
            observer.observe(document.body, { childList: true, subtree: true });

            // Detectar cambios en los radio buttons
            if (radioNo) {
                radioNo.addEventListener("change", updateTitle);
            }
            if (radioSi) {
                radioSi.addEventListener("change", updateTitle);
            }

            updateTitle(); // Verifica el estado inicial
        });

    </script>





    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Solo se ejecuta en resoluciones de escritorio (>=768px)
            if (window.innerWidth < 768) return;

            // Obtener ambas secciones
            const section1 = document.getElementById("q4_1");
            const section2 = document.getElementById("q4_2");

            // Otros elementos a modificar
            const mainElement = document.querySelector(".main");
            const mainContent = document.querySelector(".main__content");
            const carouselCards = document.querySelectorAll("#previous-winners .carousel .card");
            const wrapperElement = document.querySelector(".wrapper");
            const homeTitle = document.querySelector(".home__title");
            const questionElement = document.querySelector(".question");
            const flexColumnElements = document.querySelectorAll(".flex-column");

            // Función que aplica o restaura los estilos
            function updateStyles() {
                // Verificar si alguna de las secciones (q4_1 o q4_2) existe y está visible
                const section1Visible = section1 && window.getComputedStyle(section1).display !== "none";
                const section2Visible = section2 && window.getComputedStyle(section2).display !== "none";

                if (section1Visible || section2Visible) {
                    // Se aplica la modificación de estilos, por ejemplo, quitar el fondo de .main
                    if (mainElement) {
                        mainElement.style.background = "none";
                        mainElement.style.boxShadow = "none";
                        if (window.innerWidth >= 1024) {
                            mainElement.style.maxWidth = "100%";
                        } else {
                            mainElement.style.width = "100%";
                        }
                    }

                    // Modificar estilos para .main__content
                    if (mainContent) {
                        mainContent.style.width = "50%";
                    }

                    // Modificar estilos para las cards del carrusel
                    if (carouselCards.length > 0) {
                        carouselCards.forEach((card) => {
                            card.style.flex = "auto";
                        });
                    }

                    // Modificar estilos para .wrapper en pantallas grandes
                    if (wrapperElement && window.innerWidth >= 1024) {
                        wrapperElement.style.maxWidth = "1240px";
                        wrapperElement.style.display = "flex";
                        wrapperElement.style.justifyContent = "center";
                    }

                    // Centrar el texto en .home__title y .question para resoluciones >=1024px
                    if (homeTitle && window.innerWidth >= 1024) {
                        homeTitle.style.textAlign = "center";
                    }
                    if (questionElement && window.innerWidth >= 1024) {
                        questionElement.style.textAlign = "center";
                    }

                    // Modificar estilos para elementos .flex-column
                    if (flexColumnElements.length > 0) {
                        flexColumnElements.forEach((element) => {
                            element.style.flexDirection = "column";
                            element.style.textAlign = "center";
                        });
                    }

                    console.log("Estilos aplicados para q4_1 o q4_2 en escritorio.");
                } else {
                    // Restaurar estilos originales

                    if (mainElement) {
                        mainElement.style.background = "#fff";
                        mainElement.style.boxShadow = "0 0 20px rgba(0, 0, 0, 0.1)";
                        mainElement.style.maxWidth = "";
                        mainElement.style.width = "";
                    }

                    if (mainContent) {
                        mainContent.style.width = "";
                    }

                    if (carouselCards.length > 0) {
                        carouselCards.forEach((card) => {
                            card.style.flex = "";
                        });
                    }

                    if (wrapperElement) {
                        wrapperElement.style.maxWidth = "";
                        wrapperElement.style.display = "";
                        wrapperElement.style.justifyContent = "";
                    }

                    if (homeTitle) {
                        homeTitle.style.textAlign = "";
                    }

                    if (questionElement) {
                        questionElement.style.textAlign = "";
                    }

                    if (flexColumnElements.length > 0) {
                        flexColumnElements.forEach((element) => {
                            element.style.flexDirection = "";
                            element.style.textAlign = "";
                        });
                    }

                    console.log("Estilos restaurados para escritorio.");
                }
            }

            // Usamos un MutationObserver para detectar cambios en el DOM y actualizar estilos
            const observer = new MutationObserver(updateStyles);
            observer.observe(document.body, { childList: true, subtree: true });
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const observer = new MutationObserver(() => {
                aplicarEstilosQ3_2();
            });

            function aplicarEstilosQ3_2() {
                const contenedorFormulario = document.querySelector("#q3_2 .d-flex.flex-column.pt-3");
                const mainContent = document.querySelector("#q3_2 .main");

                if (contenedorFormulario) {
                    if (window.innerWidth >= 1024) {
                        // Vista de escritorio
                        contenedorFormulario.style.display = "grid";
                        contenedorFormulario.style.gridTemplateColumns = "1fr 1fr";
                        contenedorFormulario.style.gap = "0px";

                        // Ajustar elementos que ocupan todo el ancho
                        const elementosFullWidth = [
                            "#q3_2 .progress",
                            "#q3_2 .progress__label",
                            "#q3_2 .home__line",
                            "#q3_2 .question",
                            "#q3_2 .contenidoGeneralForm"
                        ];
                        elementosFullWidth.forEach(selector => {
                            document.querySelectorAll(selector).forEach(el => {
                                el.style.gridColumn = "span 2";
                            });
                        });

                        // Ajustar el ancho de .main en % (en escritorio)
                        if (mainContent) {
                            mainContent.style.maxWidth = "40%";
                        }
                    } else {
                        // Pantallas pequeñas
                        contenedorFormulario.style.display = "flex";
                        contenedorFormulario.style.flexDirection = "column";

                        // Restaurar a 500px en pantallas pequeñas
                        if (mainContent) {
                            mainContent.style.maxWidth = "500px";
                        }
                    }
                }
            }

            // Ejecutar al cargar y al redimensionar la ventana
            aplicarEstilosQ3_2();
            window.addEventListener("resize", aplicarEstilosQ3_2);

            // Observar cambios en el DOM (por si algo se inyecta dinámicamente)
            observer.observe(document.body, { childList: true, subtree: true });
        });

    </script>
    <!--cambiar BG dinamicamente Desktop-->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;

            // --- Radio Buttons "Sí/No" (anteriores) ---
            const rbSiContainer = document.getElementById('DrbCSi');
            const rbNoContainer = document.getElementById('DrbCNo');

            // --- Radio Buttons "Crédito grupal" / "Crédito individual" (#q2_1) ---
            const rbGrupalContainer = document.getElementById('DrbCGrupal');
            const rbIndividualContainer = document.getElementById('DrbIndividual');

            // --- Radio Buttons para "¿Tienes un negocio?" (#q2_2) ---
            const rbSiNegocioContainer = document.getElementById('DrbSi');
            const rbNoNegocioContainer = document.getElementById('DrbNo');

            // --- Radio Buttons para "¿Tu negocio tiene más de 6 meses?" (#q3_1) ---
            const rbSiMesesContainer = document.querySelector('#q3_1 #DrbSi');
            const rbNoMesesContainer = document.querySelector('#q3_1 #DrbNo');

            // Secciones
            const q2_1 = document.getElementById('q2_1');
            const q2_2 = document.getElementById('q2_2');
            const q3_1 = document.getElementById('q3_1');
            const q3_2 = document.getElementById('q3_2');
            const q4_1 = document.getElementById('q4_1');
            // Sección que se desea que no muestre fondo
            const q4_2 = document.getElementById('q4_2');

            // Elementos para modificar clases (usados en q3_2)
            const mainElement = document.querySelector('.main');
            const mainContent = document.querySelector('.main__content');
            const wrapper = document.querySelector('.wrapper');
            const homeTitle = document.querySelector('.home__title');

            // Estilos base para el <body>
            Object.assign(body.style, {
                backgroundSize: 'cover',
                backgroundPosition: 'center',
                backgroundRepeat: 'no-repeat',
                backgroundAttachment: 'fixed',
                transition: 'background-image 0.5s ease-in-out'
            });

            /**
             * Retorna el nombre de la imagen de fondo correspondiente
             * según la sección visible y los radios seleccionados.
             * Se ha agregado la condición para q4_2 como prioridad.
             */
            function getCurrentBackground() {
                // PRIORIDAD: Si q4_2 (Crédito Individual) está visible, no se muestra ningún fondo.
                if (q4_2 && q4_2.offsetParent !== null) {
                    return 'none';
                }

                // 1) Si q4_1 está visible => fondo 'none' (blanco)
                if (q4_1 && q4_1.offsetParent !== null) {
                    return 'none';
                }

                // 2) Si q3_1 está visible => gris por defecto ("Sí" o sin selección), morado si "No"
                if (q3_1 && q3_1.offsetParent !== null) {
                    // Se asume que los inputs de 6 meses tienen los IDs 'rbSiNegocio' y 'rbNoNegocio'
                    const rbNoMeses = document.getElementById('rbNoNegocio'); // "No, tiene menos de 6 meses"
                    if (rbNoMeses?.checked) {
                        return 'BG-morado.png';
                    } else {
                        return 'BG-gris.png';
                    }
                }

                // 3) Si q3_2 está visible => amarillo
                if (q3_2 && q3_2.offsetParent !== null) {
                    return 'BG-amarillo.png';
                }

                // 4) Si q2_2 está visible => checamos radio "Sí, tengo" / "No, tengo"
                if (q2_2 && q2_2.offsetParent !== null) {
                    const rbSi2_2 = document.getElementById('rbSi');
                    const rbNo2_2 = document.getElementById('rbNo');

                    if (rbSi2_2?.checked) {
                        return 'BG-gris.png';
                    } else if (rbNo2_2?.checked) {
                        return 'BG-morado.png';
                    } else {
                        return 'BG-amarillo.png';
                    }
                }

                // 5) Si q2_1 está visible => "Crédito grupal/individual"
                if (q2_1 && q2_1.offsetParent !== null) {
                    const rbGrupal = document.getElementById('rbGrupalSi');
                    const rbIndividual = document.getElementById('rbIndividualNo');

                    if (rbGrupal?.checked) {
                        return 'BG-morado.png';
                    } else if (rbIndividual?.checked) {
                        return 'BG-gris.png';
                    } else {
                        return 'BG-amarillo.png';
                    }
                }

                // 6) Fuera de las secciones anteriores, se revisan los radios "Sí/No"
                const rbSi = document.getElementById('rbCSi');
                const rbNo = document.getElementById('rbCNo');

                if (rbSi?.checked) {
                    return 'BG-morado.png';
                } else if (rbNo?.checked) {
                    return 'BG-blue.png';
                }

                // 7) Por defecto
                return 'BG-amarillo.png';
            }

            /**
             * Aplica el fondo al <body> según la imagen (o 'none').
             * En pantallas >=1024 se aplica la imagen, en menores se omite.
             */
            function changeBackground(image) {
                if (image === 'none') {
                    body.style.backgroundImage = 'none';
                    body.style.backgroundColor = '#fff';
                    return;
                }
                if (window.innerWidth >= 1024) {
                    body.style.backgroundImage = `url('assets/images/${image}')`;
                    body.style.backgroundColor = '';
                    document.documentElement.style.height = '100%';
                    body.style.minHeight = '100vh';
                } else {
                    body.style.backgroundImage = '';
                    body.style.backgroundColor = '';
                    document.documentElement.style.height = '';
                    body.style.minHeight = '';
                }
            }

            // Al cargar la página, se aplica el fondo inicial
            changeBackground(getCurrentBackground());

            // ---------------------------------------------------
            // 1. Eventos de clic para "Sí/No" (anteriores)
            // ---------------------------------------------------
            if (rbSiContainer && rbNoContainer) {
                rbSiContainer.addEventListener('click', () => {
                    document.getElementById('rbCSi').checked = true;
                    changeBackground(getCurrentBackground());
                });

                rbNoContainer.addEventListener('click', () => {
                    document.getElementById('rbCNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 2. Eventos de clic para "Crédito grupal/individual" (#q2_1)
            // ---------------------------------------------------
            if (rbGrupalContainer && rbIndividualContainer) {
                rbGrupalContainer.addEventListener('click', () => {
                    document.getElementById('rbGrupalSi').checked = true;
                    changeBackground(getCurrentBackground());
                });

                rbIndividualContainer.addEventListener('click', () => {
                    document.getElementById('rbIndividualNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 3. Eventos de clic para #q2_2 => "Sí, tengo" / "No, tengo"
            // ---------------------------------------------------
            if (rbSiNegocioContainer) {
                rbSiNegocioContainer.addEventListener('click', () => {
                    document.getElementById('rbSi').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }
            if (rbNoNegocioContainer) {
                rbNoNegocioContainer.addEventListener('click', () => {
                    document.getElementById('rbNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 4. Eventos de clic para #q3_1 => "Sí, más de 6 meses" / "No, menos de 6 meses"
            // ---------------------------------------------------
            if (rbSiMesesContainer) {
                rbSiMesesContainer.addEventListener('click', () => {
                    document.getElementById('rbSiNegocio').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }
            if (rbNoMesesContainer) {
                rbNoMesesContainer.addEventListener('click', () => {
                    document.getElementById('rbNoNegocio').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 5. Al cambiar tamaño de ventana u orientación
            // ---------------------------------------------------
            window.addEventListener('resize', () => {
                changeBackground(getCurrentBackground());
            });
            window.addEventListener('orientationchange', () => {
                setTimeout(() => {
                    changeBackground(getCurrentBackground());
                }, 100);
            });

            // ---------------------------------------------------
            // 6. IntersectionObserver para q4_1 => fondo 'none' si está visible
            // ---------------------------------------------------
            if (q4_1) {
                const observerQ4_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            changeBackground('none');
                        } else {
                            changeBackground(getCurrentBackground());
                        }
                    });
                });
                observerQ4_1.observe(q4_1);
            }

            // ---------------------------------------------------
            // 7. IntersectionObserver para q4_2 => cuando esta sección esté visible, se oculta el fondo
            // ---------------------------------------------------
            if (q4_2) {
                const observerQ4_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            changeBackground('none');
                        } else {
                            changeBackground(getCurrentBackground());
                        }
                    });
                });
                observerQ4_2.observe(q4_2);
            }

            // ---------------------------------------------------
            // 8. IntersectionObserver para q3_2 => modifica clases en elementos
            // ---------------------------------------------------
            if (q3_2) {
                const observerQ3_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            mainElement?.classList.add('main-visible-q3_2');
                            mainContent?.classList.add('main-content-visible-q3_2');
                            wrapper?.classList.add('wrapper-visible-q3_2');
                            homeTitle?.classList.add('home-title-visible-q3_2');
                        } else {
                            mainElement?.classList.remove('main-visible-q3_2');
                            mainContent?.classList.remove('main-content-visible-q3_2');
                            wrapper?.classList.remove('wrapper-visible-q3_2');
                            homeTitle?.classList.remove('home-title-visible-q3_2');
                        }
                    });
                });
                observerQ3_2.observe(q3_2);
            }

            // ---------------------------------------------------
            // 9. IntersectionObserver para q3_1 => recalcula fondo al cambiar de visibilidad
            // ---------------------------------------------------
            if (q3_1) {
                const observerQ3_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ3_1.observe(q3_1);
            }

            // ---------------------------------------------------
            // 10. IntersectionObservers opcionales para q2_2 y q2_1
            // ---------------------------------------------------
            if (q2_2) {
                const observerQ2_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ2_2.observe(q2_2);
            }
            if (q2_1) {
                const observerQ2_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ2_1.observe(q2_1);
            }
        });
    </script>
    <!-- Script modificado para mobile (se ejecuta solo si window.innerWidth < 1024) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Ejecuta este script solo si el dispositivo es mobile
            if (window.innerWidth >= 1024) return;

            const body = document.body;

            // --- Radio Buttons "Sí/No" (anteriores) ---
            const rbSiContainer = document.getElementById('DrbCSi');
            const rbNoContainer = document.getElementById('DrbCNo');

            // --- Radio Buttons "Crédito grupal" / "Crédito individual" (#q2_1) ---
            const rbGrupalContainer = document.getElementById('DrbCGrupal');
            const rbIndividualContainer = document.getElementById('DrbIndividual');

            // --- Radio Buttons para "¿Tienes un negocio?" (#q2_2) ---
            const rbSiNegocioContainer = document.getElementById('DrbSi');
            const rbNoNegocioContainer = document.getElementById('DrbNo');

            // --- Radio Buttons para "¿Tu negocio tiene más de 6 meses?" (#q3_1) ---
            const rbSiMesesContainer = document.querySelector('#q3_1 #DrbSi');
            const rbNoMesesContainer = document.querySelector('#q3_1 #DrbNo');

            // Secciones
            const q2_1 = document.getElementById('q2_1');
            const q2_2 = document.getElementById('q2_2');
            const q3_1 = document.getElementById('q3_1');
            const q3_2 = document.getElementById('q3_2');
            const q4_1 = document.getElementById('q4_1');
            // Sección que se desea que no muestre fondo
            const q4_2 = document.getElementById('q4_2');

            // Elementos para modificar clases (usados en q3_2)
            const mainElement = document.querySelector('.main');
            const mainContent = document.querySelector('.main__content');
            const wrapper = document.querySelector('.wrapper');
            const homeTitle = document.querySelector('.home__title');

            // Estilos base para el <body>
            Object.assign(body.style, {
                backgroundSize: 'cover',
                backgroundPosition: 'center',
                backgroundRepeat: 'no-repeat',
                backgroundAttachment: 'fixed',
                transition: 'background-image 0.5s ease-in-out'
            });

            /**
             * Retorna el nombre de la imagen de fondo correspondiente
             * según la sección visible y los radios seleccionados.
             * Se da prioridad a la sección q4_2 para que no se muestre fondo.
             */
            function getCurrentBackground() {
                // PRIORIDAD: Si q4_2 (Crédito Individual) está visible, no se muestra ningún fondo.
                if (q4_2 && q4_2.offsetParent !== null) {
                    return 'none';
                }

                // 1) Si q4_1 está visible => fondo 'none' (blanco)
                if (q4_1 && q4_1.offsetParent !== null) {
                    return 'none';
                }

                // 2) Si q3_1 está visible => gris por defecto ("Sí" o sin selección), morado si "No"
                if (q3_1 && q3_1.offsetParent !== null) {
                    const rbNoMeses = document.getElementById('rbNoNegocio'); // "No, tiene menos de 6 meses"
                    if (rbNoMeses?.checked) {
                        return 'BG-morado.png';
                    } else {
                        return 'BG-gris.png';
                    }
                }

                // 3) Si q3_2 está visible => amarillo
                if (q3_2 && q3_2.offsetParent !== null) {
                    return 'BG-amarillo.png';
                }

                // 4) Si q2_2 está visible => checamos radio "Sí, tengo" / "No, tengo"
                if (q2_2 && q2_2.offsetParent !== null) {
                    const rbSi2_2 = document.getElementById('rbSi');
                    const rbNo2_2 = document.getElementById('rbNo');

                    if (rbSi2_2?.checked) {
                        return 'BG-gris.png';
                    } else if (rbNo2_2?.checked) {
                        return 'BG-morado.png';
                    } else {
                        return 'BG-amarillo.png';
                    }
                }

                // 5) Si q2_1 está visible => "Crédito grupal/individual"
                if (q2_1 && q2_1.offsetParent !== null) {
                    const rbGrupal = document.getElementById('rbGrupalSi');
                    const rbIndividual = document.getElementById('rbIndividualNo');

                    if (rbGrupal?.checked) {
                        return 'BG-morado.png';
                    } else if (rbIndividual?.checked) {
                        return 'BG-gris.png';
                    } else {
                        return 'BG-amarillo.png';
                    }
                }

                // 6) Fuera de las secciones anteriores, se revisan los radios "Sí/No"
                const rbSi = document.getElementById('rbCSi');
                const rbNo = document.getElementById('rbCNo');

                if (rbSi?.checked) {
                    return 'BG-morado.png';
                } else if (rbNo?.checked) {
                    return 'BG-blue.png';
                }

                // 7) Por defecto
                return 'BG-amarillo.png';
            }

            /**
             * Aplica el fondo al <body> según la imagen (o 'none').
             * En mobile se utiliza el sufijo "-mobile" para la imagen.
             */
            function changeBackground(image) {
                if (image === 'none') {
                    body.style.backgroundImage = 'none';
                    body.style.backgroundColor = '#fff';
                    return;
                }
                let mobileImage = image;
                if (mobileImage.endsWith('.png')) {
                    mobileImage = mobileImage.replace('.png', '-mobile.png');
                }
                body.style.backgroundImage = `url('assets/images/${mobileImage}')`;
                body.style.backgroundColor = '';
                document.documentElement.style.height = '100%';
                body.style.minHeight = '100vh';
            }

            // Aplica el fondo inicial al cargar la página
            changeBackground(getCurrentBackground());

            // ---------------------------------------------------
            // 1. Eventos de clic para "Sí/No" (anteriores)
            // ---------------------------------------------------
            if (rbSiContainer && rbNoContainer) {
                rbSiContainer.addEventListener('click', () => {
                    document.getElementById('rbCSi').checked = true;
                    changeBackground(getCurrentBackground());
                });

                rbNoContainer.addEventListener('click', () => {
                    document.getElementById('rbCNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 2. Eventos de clic para "Crédito grupal/individual" (#q2_1)
            // ---------------------------------------------------
            if (rbGrupalContainer && rbIndividualContainer) {
                rbGrupalContainer.addEventListener('click', () => {
                    document.getElementById('rbGrupalSi').checked = true;
                    changeBackground(getCurrentBackground());
                });

                rbIndividualContainer.addEventListener('click', () => {
                    document.getElementById('rbIndividualNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 3. Eventos de clic para #q2_2 => "Sí, tengo" / "No, tengo"
            // ---------------------------------------------------
            if (rbSiNegocioContainer) {
                rbSiNegocioContainer.addEventListener('click', () => {
                    document.getElementById('rbSi').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }
            if (rbNoNegocioContainer) {
                rbNoNegocioContainer.addEventListener('click', () => {
                    document.getElementById('rbNo').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 4. Eventos de clic para #q3_1 => "Sí, más de 6 meses" / "No, menos de 6 meses"
            // ---------------------------------------------------
            if (rbSiMesesContainer) {
                rbSiMesesContainer.addEventListener('click', () => {
                    document.getElementById('rbSiNegocio').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }
            if (rbNoMesesContainer) {
                rbNoMesesContainer.addEventListener('click', () => {
                    document.getElementById('rbNoNegocio').checked = true;
                    changeBackground(getCurrentBackground());
                });
            }

            // ---------------------------------------------------
            // 5. Al cambiar tamaño de ventana u orientación
            // ---------------------------------------------------
            window.addEventListener('resize', () => {
                if (window.innerWidth < 1024) {
                    changeBackground(getCurrentBackground());
                }
            });
            window.addEventListener('orientationchange', () => {
                setTimeout(() => {
                    if (window.innerWidth < 1024) {
                        changeBackground(getCurrentBackground());
                    }
                }, 100);
            });

            // ---------------------------------------------------
            // 6. IntersectionObserver para q4_1 => fondo 'none' si está visible
            // ---------------------------------------------------
            if (q4_1) {
                const observerQ4_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            changeBackground('none');
                        } else {
                            changeBackground(getCurrentBackground());
                        }
                    });
                });
                observerQ4_1.observe(q4_1);
            }

            // ---------------------------------------------------
            // 7. IntersectionObserver para q4_2 => cuando esté visible, se oculta el fondo
            // ---------------------------------------------------
            if (q4_2) {
                const observerQ4_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            changeBackground('none');
                        } else {
                            changeBackground(getCurrentBackground());
                        }
                    });
                });
                observerQ4_2.observe(q4_2);
            }

            // ---------------------------------------------------
            // 8. IntersectionObserver para q3_2 => modifica clases en elementos
            // ---------------------------------------------------
            if (q3_2) {
                const observerQ3_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            mainElement?.classList.add('main-visible-q3_2');
                            mainContent?.classList.add('main-content-visible-q3_2');
                            wrapper?.classList.add('wrapper-visible-q3_2');
                            homeTitle?.classList.add('home-title-visible-q3_2');
                        } else {
                            mainElement?.classList.remove('main-visible-q3_2');
                            mainContent?.classList.remove('main-content-visible-q3_2');
                            wrapper?.classList.remove('wrapper-visible-q3_2');
                            homeTitle?.classList.remove('home-title-visible-q3_2');
                        }
                    });
                });
                observerQ3_2.observe(q3_2);
            }

            // ---------------------------------------------------
            // 9. IntersectionObserver para q3_1 => recalcula fondo al cambiar de visibilidad
            // ---------------------------------------------------
            if (q3_1) {
                const observerQ3_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ3_1.observe(q3_1);
            }

            // ---------------------------------------------------
            // 10. IntersectionObservers opcionales para q2_2 y q2_1
            // ---------------------------------------------------
            if (q2_2) {
                const observerQ2_2 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ2_2.observe(q2_2);
            }
            if (q2_1) {
                const observerQ2_1 = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        changeBackground(getCurrentBackground());
                    });
                });
                observerQ2_1.observe(q2_1);
            }
        });
    </script>



    <!--AUTO SCROLL-->
    <script>
        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', function (e) {
                e.preventDefault();
                const id = this.getAttribute('href');
                const target = document.getElementById(id);
                if (target) {
                    window.scrollTo({
                        top: target.offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>

    <!--dtos carousel y botones -->

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const carousels = document.querySelectorAll("[data-carousel]");

            carousels.forEach((carouselSection) => {
                const carousel = carouselSection.querySelector(".carousel");
                const cards = carousel.querySelectorAll(".card");
                const dots = carouselSection.querySelectorAll(".dot");
                const prevButton = carouselSection.querySelector(".carousel-prev");
                const nextButton = carouselSection.querySelector(".carousel-next");

                if (cards.length === 0) return; // Evita errores si no hay cards

                let currentIndex = 0;
                const threshold = 50; // Distancia mínima de swipe para cambiar de slide
                let startX = 0;
                let isDragging = false;

                function getCardWidth() {
                    return carousel.scrollWidth / cards.length;
                }

                function updateButtons() {
                    if (currentIndex === 0) {
                        prevButton.style.backgroundColor = "#D8D8D8"; // Gris
                        prevButton.style.color = "#333";

                        nextButton.style.backgroundColor = "#CE0058"; // Magenta
                        nextButton.style.color = "white";
                    } else if (currentIndex === 1) {
                        prevButton.style.backgroundColor = "#CE0058"; // Magenta
                        prevButton.style.color = "white";

                        nextButton.style.backgroundColor = "#D8D8D8"; // Gris
                        nextButton.style.color = "#333";
                    }
                }

                function moveSlide(event, direction) {
                    event.preventDefault();
                    const cardWidth = getCardWidth();
                    currentIndex += direction;

                    if (currentIndex < 0) {
                        currentIndex = 0;
                    } else if (currentIndex >= cards.length) {
                        currentIndex = cards.length - 1;
                    }

                    carousel.scrollTo({
                        left: currentIndex * cardWidth,
                        behavior: "smooth"
                    });

                    updateButtons();
                    updateDots();
                }

                function goToSlide(event, index) {
                    event.preventDefault();
                    currentIndex = index;

                    carousel.scrollTo({
                        left: currentIndex * getCardWidth(),
                        behavior: "smooth"
                    });

                    updateButtons();
                    updateDots();
                }

                function updateDots() {
                    dots.forEach((dot, index) => {
                        dot.classList.toggle("active", index === currentIndex);
                    });
                }

                prevButton.addEventListener("click", (event) => moveSlide(event, -1));
                nextButton.addEventListener("click", (event) => moveSlide(event, 1));

                dots.forEach((dot, index) => {
                    dot.addEventListener("click", (event) => goToSlide(event, index));
                });

                // --- SWIPE SUAVE Y PRECISO ---
                carousel.addEventListener("touchstart", (event) => {
                    isDragging = true;
                    startX = event.touches[0].clientX;
                });

                carousel.addEventListener("touchmove", (event) => {
                    if (!isDragging) return;
                    event.preventDefault(); // Evita interferencias con el scroll de la página
                });

                carousel.addEventListener("touchend", (event) => {
                    if (!isDragging) return;
                    isDragging = false;

                    const endX = event.changedTouches[0].clientX;
                    const diffX = startX - endX;

                    if (diffX > threshold) {
                        // Swipe a la izquierda (siguiente slide)
                        moveSlide(event, 1);
                    } else if (diffX < -threshold) {
                        // Swipe a la derecha (slide anterior)
                        moveSlide(event, -1);
                    }
                });

                // Asegurar que los botones tengan el color correcto al inicio
                updateButtons();
            });
        });

    </script>




    <script>
        document.addEventListener("DOMContentLoaded", function () {
            if (window.innerWidth > 768) return; // Solo ejecuta el script en dispositivos móviles

            let btn = document.querySelector(".btnContinuarInicio");
            let targetSection = document.getElementById("q3_2");

            if (!btn || !targetSection) return; // Evita errores si los elementos no existen

            let observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            if (btn.style.position !== "relative") {
                                btn.style.position = "relative";
                            }
                        } else {
                            if (btn.style.position !== "fixed") {
                                btn.style.position = "fixed";
                            }
                        }
                    });
                },
                { threshold: 0.2 } // Detectar cuando al menos el 20% de la sección es visible
            );

            observer.observe(targetSection);
        });

    </script>
    <script>
        // Si no existe, la creamos vacía
        window.adobeDataLayer = window.adobeDataLayer || [];
    </script>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/jquery.blockUI.min.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/home.js"></script>
    <script src="js/home-events.js"></script>

</body>

</html>